<div>
  <h2>Crear Rutina</h2>

  <form (ngSubmit)="guardarRutina()">
    <div>
      <label>Cliente:</label>
      <select class="form-control" [(ngModel)]="rutina.cliente" name="cliente" required>
        <option *ngFor="let c of clientes" [ngValue]="c">
          {{ c.nombreCliente }} {{ c.apellidosCliente }}
        </option>
      </select>
    </div>

    <div>
      <label>Instructor:</label>
      <select class="form-control" [(ngModel)]="rutina.instructor" name="instructor" required>
        <option *ngFor="let i of instructores" [ngValue]="i">
          {{ i.nombreInstructor }} {{ i.apellidosInstructor }}
        </option>
      </select>
    </div>

    <div>
      <label>Fecha Creación:</label>
      <input type="date" [(ngModel)]="rutina.fechaCreacion" name="fechaCreacion" required>
    </div>

    <div>
      <label>Fecha Renovación:</label>
      <input type="date" [(ngModel)]="rutina.fechaRenovacion" name="fechaRenovacion" required>
    </div>

    <div>
      <label>Objetivo del Cliente:</label>
      <input type="text" [(ngModel)]="rutina.objetivoCliente" name="objetivoCliente" required>
    </div>

    <div>
      <label>Enfermedades:</label>
      <input type="text" [(ngModel)]="rutina.enfermedadesCliente" name="enfermedadesCliente">
    </div>

    <hr>

    <h3>Agregar Ejercicio</h3>
    <div>
      <label>ID Ejercicio:</label>
      <input type="number" [(ngModel)]="nuevoEjercicio.codEjercicio" name="codEjercicio">
    </div>
    <div>
      <label>Series:</label>
      <input type="number" [(ngModel)]="nuevoEjercicio.seriesEjercicio" name="seriesEjercicio">
    </div>
    <div>
      <label>Repeticiones:</label>
      <input type="number" [(ngModel)]="nuevoEjercicio.repeticionesEjercicio" name="repeticionesEjercicio">
    </div>
    <button type="button" (click)="agregarEjercicio()">Agregar Ejercicio</button>

    <ul>
      <li *ngFor="let ej of ejercicios; let i = index">
        Ejercicio {{ ej.codEjercicio }} - Series: {{ ej.seriesEjercicio }}, Reps: {{ ej.repeticionesEjercicio }}
        <button (click)="eliminarEjercicio(i)">Eliminar</button>
      </li>
    </ul>

    <div *ngIf="error" style="color:red">{{ error }}</div>
    <div *ngIf="mensaje" style="color:green">{{ mensaje }}</div>

    <button type="submit">Guardar Rutina</button>
  </form>
</div>
